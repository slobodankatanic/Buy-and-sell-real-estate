<div class="container-fluid p-0 overflow-hidden">
    <div class="row">
        <div class="col header">
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                <div class="container">
                    <a class="navbar-brand" href=""><img class="logo img-fluid" src="../../assets/logo.png" alt=""></a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarResponsive">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" [routerLink]="['/admin/home']">
                                    Registration requests
                                </a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown">
                                    Users
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" [routerLink]="['/admin/addUser']">Add user</a>
                                    <a class="dropdown-item" [routerLink]="['/admin/editDeleteUser']">Edit/Delete user</a>
                                </div>
                            </li>
                            <li id="dodaj-recept" class="nav-item">
                                <a class="nav-link" [routerLink]="['/admin/addAgency']">
                                    Add agency
                                </a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown">
                                    <span class="act-item">Microlocations</span>
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" [routerLink]="['/admin/addMicrolocation']">
                                        Add microlocation
                                    </a>
                                    <a class="dropdown-item" [routerLink]="['/admin/deleteMicrolocation']">
                                        Delete microlocation
                                    </a>
                                </div>
                            </li>
                            <li id="moj-nalog" class="nav-item ml-lg-5 ml-sm-0">
                                <a class="nav-link" [routerLink]="['/user/changePassword']">Change password</a>
                            </li>
                            <li id="odjava-stavka" class="nav-item ml-sm-0 pr-0">
                                <a id="odjava" class="nav-link" [routerLink]="['/login']" (click)="logout()">Log out</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </div>
    <div class="row">
        <div class="col text-center h1 mt-4 mb-4">
            Add microlocation
        </div>
    </div>
    <div class="row">
        <div class="col-12 col-sm-4 offset-sm-2 offset-lg-1 col-lg-3 text-center">
            <mat-form-field appearance="fill">
                <mat-label>City</mat-label>
                <mat-select [formControl]="cityControl" [(ngModel)]="city" (selectionChange)="citySelected()">
                    <mat-option *ngFor="let city of cities" value="{{city.id}}">{{city.name}}</mat-option>
                </mat-select>
                <mat-error *ngIf="cityControl.hasError('city')">{{errorMessageCity}}</mat-error>
            </mat-form-field>
        </div>
        <div class="col-12 col-sm-4 col-lg-3 text-center">
            <mat-form-field appearance="fill">
                <mat-label>Municipality</mat-label>
                <mat-select id="municipality" [(ngModel)]="municipality" [formControl]="municipalityControl">
                    <mat-option *ngFor="let mun of municipalities" value="{{mun.id}}">{{mun.name}}</mat-option>
                </mat-select>
                <mat-error *ngIf="municipalityControl.hasError('municipality')">{{errorMessageMun}}</mat-error>
            </mat-form-field>
        </div>
        <div class="col-12 col-lg-4 text-center">
            <mat-form-field id="new-pass" class="mb-3 example-full-width" appearance="fill">
                <mat-label>Street name</mat-label>
                <input [(ngModel)]="streetName" type="text" matInput>
                <!-- <mat-error *ngIf="streetControl.hasError('invNew')">{{errorMessage}}</mat-error> -->
            </mat-form-field>
            <button (click)="addStreet()" class="ml-1 btn btn-secondary">Add street</button>
        </div>
    </div>
    <div class="row text-center">
        <div class="col">
            <mat-form-field appearance="fill">
                <mat-label>Name</mat-label>
                <input [(ngModel)]="microlocationName" [formControl]="nameControl" type="text" matInput>
                <mat-error *ngIf="nameControl.hasError('name')">{{errorMessageName}}</mat-error>
            </mat-form-field>
            <button (click)="addMicrolocation()" class="ml-4 btn btn-dark">Add microlocation</button>
        </div>
    </div>
    <div class="row">
        <div class="col-11 offset-1">
            <!-- <div *ngIf="streets.length==0">No streets added</div> -->
            <div *ngIf="streets.length>0" class="mb-3 h4">Added streets</div>
        </div>
        <div class="col-1"></div>
        <div class="col">
            <div *ngFor="let street of streets" class="mb-3">
                <mat-card class="p-0 m-0 home-card card-font card-bg">
                    <!-- <mat-card-title class="w-100 p-2 mb-0 card-title">
                    </mat-card-title> -->
                    <mat-card-content class="street-text p-1">
                        <div class="row">
                            <div class="col">{{street}}</div>
                            <div class="col text-right">
                                <button (click)="removeAddress(street)"
                                class="btn btn-secondary">Remove</button>
                            </div>
                        </div>
                    </mat-card-content>
                </mat-card>
            </div>
        </div>
        <div class="col-1"></div>
    </div>
</div>